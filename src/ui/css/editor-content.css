/* Editor Content Area - Document Style */

.editor-main-area {
    /* Flex grow to fill the parent .editor-wrapper minus toolbar/status bar */
    flex: 1;
    height: auto;
    overflow-y: auto;
    overflow-x: hidden;
    background-color: #ffffff;
    /* White background to blend with page */
    scroll-behavior: smooth;
    position: relative;

    /* Hide scrollbar for Firefox */
    scrollbar-width: none;
    -ms-overflow-style: none;
}

/* Hide scrollbar for WebKit (Chrome/Safari) */
.editor-main-area::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
}

/* Custom Scrollbar for nicer look */
.editor-container {
    box-sizing: border-box;
    width: 100%;
    max-width: none;
    /* Allow full width usage */
    min-height: 100%;
    margin: 0;
    /* Remove centering margin */
    padding: 40px;
    /* Standardize padding */
    outline: none;
    overflow-x: hidden;
    overflow-y: visible;
    position: relative;
    color: #334155;
    line-height: 1.8;
    font-size: 16px;
    background-color: transparent;

    box-shadow: none;
    border-radius: 0;
    border: none;
}

.editor-container:hover {
    box-shadow:
        0 1px 3px rgba(0, 0, 0, 0.05),
        0 8px 24px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(0, 0, 0, 0.02);
}

/* Mobile Responsiveness for Margins */
@media (max-width: 640px) {
    .editor-container {
        padding: 20px 16px;
    }
}

/* Base formatting inside editor - Lowered specificity for designs that provide their own */
.editor-container:not([data-source-fidelity="true"]) p {
    margin-bottom: 1em;
}

.editor-container:not([data-source-fidelity="true"]) h1,
.editor-container:not([data-source-fidelity="true"]) h2,
.editor-container:not([data-source-fidelity="true"]) h3 {
    color: #111827;
    font-weight: 600;
    line-height: 1.3;
}

.editor-container:not([data-source-fidelity="true"]) h1 {
    font-size: 2.25em;
    margin-top: 1.5em;
    margin-bottom: 0.8em;
}

.editor-container:not([data-source-fidelity="true"]) h2 {
    font-size: 1.75em;
    margin-top: 1.4em;
    margin-bottom: 0.6em;
    padding-bottom: 0.3em;
    border-bottom: 1px solid #f1f5f9;
}

.editor-container:not([data-source-fidelity="true"]) h3 {
    font-size: 1.4em;
    margin-top: 1.2em;
    margin-bottom: 0.5em;
}

/* Links */
.editor-container:not([data-source-fidelity="true"]) a {
    color: #2563eb;
    text-decoration: underline;
    text-underline-offset: 2px;
}

/* --- FIDELITY OVERRIDES --- */
/* Remove editor padding and defaults when a full design is pasted */
.editor-container[data-source-fidelity="true"] {
    padding: 0 !important;
    margin: 0 !important;
    min-height: 100vh;
    overflow-x: hidden;
}

/* Ensure headings and logos render gradients correctly in Fidelity Mode */
.editor-container[data-source-fidelity="true"] h1,
.editor-container[data-source-fidelity="true"] h2,
.editor-container[data-source-fidelity="true"] h3,
.editor-container[data-source-fidelity="true"] .logo,
.editor-container[data-source-fidelity="true"] .hero h1 {
    display: block;
    /* Required for width-based gradients */
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
}

/* If the design is left-aligned, we should respect it */
.editor-container[data-source-fidelity="true"] :not(.title-center)>h1,
.editor-container[data-source-fidelity="true"] :not(.title-center)>h2 {
    margin-left: 0;
    margin-right: 0;
}

/* Fix for background-clip: text (Logo and Gradient Heading issue) */
.editor-container[data-source-fidelity="true"] [style*="background-clip: text"] {
    -webkit-background-clip: text !important;
    background-clip: text !important;
    display: inline-block;
}

/* Animation Container Fix: Ensure morphing shapes have proper context */
.editor-container[data-source-fidelity="true"] .hero-image,
.editor-container[data-source-fidelity="true"] [class*="-image"] {
    display: flex !important;
    align-items: center;
    justify-content: center;
}

/* --- ICON FIXES --- */
/* FontAwesome icons must be inline-block and should NOT be italicized by editor defaults */
.editor-container i,
.editor-container [class*="fa-"] {
    display: inline-block !important;
    font-style: normal !important;
    line-height: 1;
    vertical-align: middle;
    /* Ensure they don't inherit background-clip: text from parents unless desired */
    -webkit-background-clip: border-box !important;
    background-clip: border-box !important;
}

/* Fix for icons inside specific containers */
.editor-container .icon-box i,
.editor-container .hero-image i {
    font-size: inherit;
    color: inherit;
}

/* Blockquotes */
.editor-container blockquote {
    border-left: 4px solid #e5e7eb;
    padding-left: 16px;
    margin-left: 0;
    margin-right: 0;
    font-style: italic;
    color: #4b5563;
}

/* Code Blocks */
.editor-container pre {
    background: #f8fafc;
    border-radius: 6px;
    padding: 12px;
    font-family: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
    font-size: 0.9em;
    overflow-x: auto;
    border: 1px solid #e2e8f0;
}

/* Inline Code */
.editor-container code {
    background: #f1f5f9;
    padding: 2px 4px;
    border-radius: 4px;
    font-family: 'JetBrains Mono', Consolas, monospace;
    font-size: 0.85em;
    color: #db2777;
}

/* --- TEXT FORMATTING CLASSES (From Engine Theme) --- */
.editor-text-bold {
    font-weight: bold;
}

.editor-text-italic {
    font-style: italic;
}

.editor-text-underline {
    text-decoration: underline;
}

.editor-text-strikethrough {
    text-decoration: line-through;
}

.editor-text-undelinestrikethrough {
    text-decoration: underline line-through;
}

.editor-text-subscript {
    font-size: 0.8em;
    vertical-align: sub !important;
}

.editor-text-superscript {
    font-size: 0.8em;
    vertical-align: super !important;
}

.editor-text-code {
    background-color: #f1f5f9;
    padding: 1px 0.25rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9em;
}

/* Tables */
.editor-container table {
    width: 100%;
    border-collapse: collapse;
    margin: 1em 0;
}

.editor-container th,
.editor-container td {
    border: 1px solid #e2e8f0;
    padding: 8px 12px;
    text-align: left;
}

.editor-container th {
    background-color: #f8fafc;
    font-weight: 600;
}

/* Selected Image/Media Wrapper Styles */
.media-wrapper.focused,
.media-wrapper.selected {
    outline: 2px solid #2563eb;
    /* Primary blue focus ring */
    outline-offset: 2px;
}

/* Placeholder text color */
.editor-placeholder {
    color: #9ca3af;
    position: absolute;
    top: 40px;
    /* Match new standard padding */
    left: 40px;
    /* Match new standard padding */
    pointer-events: none;
    font-style: italic;
}

@media (max-width: 640px) {
    .editor-placeholder {
        top: 20px;
        left: 16px;
    }
}

/* --- COMPATIBILITY SHIMS --- */
/* Fix for JS-dependent lazy loading: Force images to show in editor */
.editor-container img.lazyload {
    opacity: 1 !important;
}

/* Basic Flexbox Shim for Bootstrap 'row' to prevent stacking overlap */
.editor-container .row {
    display: flex;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

.editor-container .col-12 {
    width: 100%;
}

.editor-container .col-sm-6 {
    width: 50%;
}

.editor-container .col-4 {
    width: 33.333%;
}

/* Fix for full-width images */
.editor-container .w-100 {
    width: 100% !important;
}

.editor-container .img-fluid {
    max-width: 100%;
    height: auto;
}

/* Fix fixed positioning escaping the editor */
/* Fix fixed positioning escaping the editor - Catch both inline and class-defined fixed positions */
.editor-container * {
    /* Prevent any child from escaping the container context */
    max-width: 100%;
}

/* Force override for any fixed/sticky positioning that might be in pasted HTML/CSS */
.editor-container [style*="position: fixed"],
.editor-container [style*="position: sticky"],
.editor-container nav,
.editor-container header {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    /* Reset other fixed properties */
    bottom: auto !important;
    right: auto !important;
    /* Ensure it doesn't cover other content unintentionally if it had high z-index */
    z-index: 10 !important;
    width: 100% !important;
    transform: none !important;
    border-radius: 0 !important;
}

.editor-container .d-block {
    display: block !important;
}